<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>çœ‹è­·ãƒ¡ãƒ¢</title>
  <style>
    body { font-family: sans-serif; margin: 20px; }
    h1 { border-bottom: 2px solid #ccc; }
    .container { display: flex; gap: 20px; }
    .menu { width: 25%; }
    .content { width: 75%; }
    textarea, input { width: 100%; margin-bottom: 10px; }
    .item { margin-bottom: 30px; }
    .item h2 { border-left: 6px solid #4caf50; padding-left: 8px; }
    button { padding: 6px 10px; }
  </style>
</head>

<body>

<h1>ðŸ“˜ çœ‹è­·ãƒ¡ãƒ¢</h1>

<div class="container">
  <!-- ç›®æ¬¡ -->
  <div class="menu">
    <h3>ç›®æ¬¡</h3>
    <ul id="toc"></ul>
  </div>

  <!-- æœ¬æ–‡ -->
  <div class="content">
    <input id="title" placeholder="é …ç›®ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆä¾‹ï¼šçµ±è¨ˆï¼‰">
    <textarea id="text" rows="5" placeholder="å†…å®¹ã‚’ãã®ã¾ã¾æ›¸ã"></textarea>
    <button onclick="addMemo()">è¿½åŠ </button>

    <hr>
    <div id="memos"></div>
  </div>
</div>

<script>
  let memos = JSON.parse(localStorage.getItem("memos") || "[]");

  function save() {
    localStorage.setItem("memos", JSON.stringify(memos));
  }

  function render() {
    const toc = document.getElementById("toc");
    const memosDiv = document.getElementById("memos");
    toc.innerHTML = "";
    memosDiv.innerHTML = "";

    memos.forEach((m, i) => {
      // ç›®æ¬¡
      const li = document.createElement("li");
      li.innerHTML = `<a href="#memo-${i}">${m.title}</a>`;
      toc.appendChild(li);

      // æœ¬æ–‡
      const div = document.createElement("div");
      div.className = "item";
      div.id = `memo-${i}`;
      div.innerHTML = `
        <h2>${m.title}</h2>
        <pre>${m.text}</pre>
      `;
      memosDiv.appendChild(div);
    });
  }

  function addMemo() {
    const title = document.getElementById("title").value.trim();
    const text = document.getElementById("text").value.trim();
    if (!title || !text) return;

    memos.push({ title, text });
    save();
    render();

    document.getElementById("title").value = "";
    document.getElementById("text").value = "";
  }

  render();
</script>

</body>
</html>
